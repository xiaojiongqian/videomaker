# 视频文档配图融合项目

## 📹 视频文件

- `并行长时间使用codex_cut_cn_final.mp4` - 融合后的最终视频（包含3张高清配图）- **推荐版本**
- `并行长时间使用codex_cut.mp4` - 原视频

## 🎨 配图说明

视频中包含3张AI生成的SVG图表，在优化后的时间点显示：

| 图表 | 时间段 | 内容 | 展示时机说明 |
|------|--------|------|-------------|
| 架构图 | **3-23秒** | 多窗口并行工作流架构 | 开场即展示，帮助观众立即理解整体架构 |
| 对比图 | **45-75秒** | 单线程vs并行对比 | 在中期讲解概念时展示，更易理解并行优势 |
| 流程图 | **120-150秒** | 任务执行流程 | 在深入演示阶段展示，配合实际操作 |

## 🛠️ 技术实现

### 分段处理加速方案

采用分段处理技术，只重新编码需要叠加图片的片段（约90秒），其他部分直接复制：
- **处理时间**: 从90分钟缩短到8分钟（11倍加速）
- **文件大小**: 225MB（接近原视频234MB）
- **图片规格**: 2500px高清，占屏幕65%
- **淡入淡出**: 1.0秒平滑过渡

### 核心脚本

`doc/mix_segmented.sh` - 分段处理脚本

## 📁 文件结构

```
.
├── README.md                           # 本文档
├── .gitignore                          # Git忽略配置
├── 并行长时间使用codex_cut_cn_final.mp4   # ⭐ 最终视频（优化版）
├── 并行长时间使用codex_cut.mp4            # 原视频
└── doc/
    ├── mix_segmented.sh                # 处理脚本
    ├── mix_plan_cn.json                # 原始融合计划
    ├── mix_plan_optimized.json         # 优化版融合计划
    └── images/
        ├── diagram_architecture.svg    # SVG架构图源文件
        ├── diagram_comparison.svg      # SVG对比图源文件
        └── diagram_flow.svg            # SVG流程图源文件
```

## 🔄 复用方法

如需处理其他视频，可以使用 skill 中的脚本：

```bash
cd ~/.config/agents/skills/video-mix-doc/
./video-mix-segmented.sh <视频> <输出> <图片目录> <配置文件>
```

## ⚠️ 注意事项

1. **拼接方式**: 拼接时务必使用 `-c copy` 模式，使用重编码模式会导致时间戳混乱、视频损坏
2. **GitHub上传**: 视频文件较大(459M)，建议使用 Git LFS 管理或在 .gitignore 中排除

## 📝 优化记录

### v2 → final 优化

基于视频内容分析，调整了图表插入时机：

| 图表 | 旧时机 | 优化后时机 | 优化理由 |
|------|--------|-----------|---------|
| 架构图 | 8-33秒 | **3-23秒** | 更早展示，帮助观众立即理解整体架构 |
| 对比图 | 70-98秒 | **45-75秒** | 在讲解对比概念时出现，时机更恰当 |
| 流程图 | 200-225秒 | **120-150秒** | 在深入演示阶段展示，配合实际操作 |
