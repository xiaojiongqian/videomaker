# /pr:merge 介绍视频 — 分镜脚本

## 全局设定

- **总时长**：约 2 分钟（8 组 × 15 秒），节奏紧凑，适合技术类短视频
- **视觉风格**：深色终端为主视觉基调，搭配简洁信息图形（卡片、柱状图、流程线）；终端演示优先用实录屏幕，辅以动画模拟
- **配乐**：轻快电子/科技风 BGM，贯穿全片，节奏与 15 秒分组对齐
- **字幕风格**：关键词大字居中突出，辅助信息小字底部常驻
- **旁白语气**：平实、直接、略带技术幽默，像资深同事在工位旁聊天
- **可用素材**：`image/pr-merge-comments.webp`（Review 反馈截图）、`image/pr-merge-running.webp`（运行中截图）

---

## 第 1 组（0:00 - 0:15）— 痛点引入

**画面**：开发者面对屏幕，PR 页面打开，手动切分支、跑测试、解冲突的快速蒙太奇。屏幕上闪过 `git checkout`、`git merge`、`npm test`、冲突标记 `<<<<<<<`。时钟加速转动。

**旁白**：
> 合并一个 PR 要多久？打开 diff 逐行看，切分支，pull 代码，解冲突，跑 lint，跑测试，推送，删分支……一个中等 PR，20 到 40 分钟就没了。一天合 3 个，半天交代在这上面。

**字幕关键词**：`20-40 min / PR` → `半天就没了`

---

## 第 2 组（0:15 - 0:30）— 真正的问题

**画面**：PR 页面上一个大大的绿色 "Merge" 按钮被点下。画面切换：线上报错日志滚动、用户投诉、半夜告警。红色警告叠加。

**旁白**：
> 但真正的问题不是慢——是该做的检查被跳过了。赶进度的时候，谁还记得看有没有单元测试？谁还检查新特性有没有设计文档？代码就这样带着隐患进了主干，直到某天在线上爆发。

**字幕关键词**：`问题不在慢` → `该做的检查被跳过了`

---

## 第 3 组（0:30 - 0:45）— 一条命令解决

**画面**：终端画面，光标闪烁，输入 `/pr:merge 123`，回车。任务列表依次亮起绿色勾号：获取 PR 信息 ✅、代码审查 ✅、完整性检查 ✅、冲突解决 ✅、测试通过 ✅、合并推送 ✅。

**旁白**：
> 现在，一条命令搞定全部。`/pr:merge` 运行在 Claude Code 里，给它一个 PR 编号，它会自动拉取信息、做 Code Review、检查文档和测试覆盖、解决冲突、跑测试、合并推送。全程自动，不打断你的心流。

**字幕关键词**：`/pr:merge 123` → `全程自动执行`

---

## 第 4 组（0:45 - 1:00）— 分级审查机制

**画面**：三列对比卡片，从左到右逐个亮起。小型 PR（绿色，轻量图标）→ 中型 PR（黄色，标准图标）→ 大型 PR（红色，重量图标）。每列下方展示对应的审查项。

**旁白**：
> 它不是无脑合并，而是分级审查。100 行以下的小改动，快速过安全扫描。100 到 500 行的中型 PR，加上完整性审核和 code-reviewer 深度检查。500 行以上的大型 PR，再叠加 code-simplifier 给出简化建议。改动越大，审查越严。

**字幕关键词**：`小型 → 快速过` / `中型 → 深度审查` / `大型 → 全面检查`

---

## 第 5 组（1:00 - 1:15）— 新特性门禁

**画面**：一个 `feature/add-payment` 分支的 PR 被提交。检查项逐一弹出：设计文档 ⚠️ 缺失、单元测试 ❌ 缺失。PR 评论区自动出现详细反馈（插入素材 `image/pr-merge-comments.webp`）。合并流程终止，红色 "BLOCKED" 标记。

**旁白**：
> 对新特性 PR，它还会额外检查：有没有设计文档？单元测试覆盖了多少？如果缺少测试，直接拦截，把具体要补什么写到 PR 评论里——精确到函数名。没有测试的新特性，就不该进主干。

**字幕关键词**：`缺测试？` → `拦截 + 精确反馈`

---

## 第 6 组（1:15 - 1:30）— 安装与使用

**画面**：终端演示，三行命令依次输入并执行。然后切到一个真实项目目录，输入 `/pr:merge 42 --target main`，流程开始运行（可插入素材 `image/pr-merge-running.webp`）。

**旁白**：
> 怎么用？三步。克隆 skills-hub 仓库，运行链接脚本，然后在任意 GitHub 项目里直接输入 `/pr:merge` 加 PR 编号。支持指定目标分支、保留源分支、worktree 模式。前提是装好 Claude Code 和 GitHub CLI。

**字幕关键词**：`git clone` → `link-local.sh` → `/pr:merge`

---

## 第 7 组（1:30 - 1:45）— 质量阵痛与转变

**画面**：柱状图动画——左侧"引入前"：PR 合并成功率高但线上 bug 多；右侧"引入后"：初期合并成功率下降（红色箭头），随后线上 bug 大幅减少（绿色箭头），合并成功率回升。曲线交叉的瞬间高亮。

**旁白**：
> 坦率说，刚开始用的时候，PR 合并成功率会明显下降。以前随手就能合的代码，现在被拦下来了。但这不是效率降低——是以前没人检查的问题被暴露了。跑顺之后，主干质量持续提升，线上问题减少，每个 PR 都有完整的 review 记录可追溯。

**字幕关键词**：`短期阵痛` → `长期质量提升`

---

## 第 8 组（1:45 - 2:00）— 催化剂效应 + 收尾

**画面**：分屏对比——左边手动开发者反复被打回 PR（红色循环），右边用 Agent 开发者一次通过（绿色直线）。差距拉大。最后画面收束到一行命令 `/pr:merge`，下方出现 GitHub 仓库地址。

**旁白**：
> 还有一个意想不到的效果：当合并有了严格门禁，用 Code Agent 的人一次通过，不用的人反复被打回。效率差距会推动整个团队自然转向 AI-Native 开发。`/pr:merge` 不只是合并工具，它是质量门禁，也是团队开发模式升级的催化剂。

**字幕关键词**：`质量门禁` → `AI-Native 催化剂`
